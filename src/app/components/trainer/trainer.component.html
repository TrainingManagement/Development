<div class="card shadow container mt-4 p-4">
  <div align="center" class="row mt-4">
    <div class="col-sm-4">
      <div class="card tile-box  mx-auto">
        <i class="fa fa-briefcase fa-2x p-2" aria-hidden="true"></i>
        <label for="AddUser" class="txt">Completed Trainings</label>
      </div>
    </div>

    <div class="col-sm-4 pt-2">
      <form class="navbar-form" role="search">
        <div class="input-group add-on">
          <input
            class="form-control"
            placeholder="Search"
            name="srch-term"
            id="srch-term"
            type="text"
          />
          <div class="input-group-btn">
            <button class="btn btn-default" type="submit">
              <i class="glyphicon glyphicon-search"></i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <hr />

  <div align="center" class="row mt-4">
    <div class="col-sm-10 mx-auto table-responsive">
      <table class="table table-striped table-bordered table-hover text-center">
        <thead>
          <tr>
            <th>Training Name</th>
            <th>Category</th>
            <th>Date</th>
            <th>Time</th>
          </tr>
        </thead>
        <tbody>
          <tr data-toggle="modal" data-target="#myModal" *ngFor="let training of trainingList" (click)="openModal(training)">
            <td>{{training.trainingName}}</td>
            <td>{{training.courseCategory}}</td>
            <td>{{training.date}}</td>
            <td>{{training.startTime}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-sm-2 sidenav">
      <div class="card tile-box mb-2">
        <i class="fa fa-briefcase p-2" aria-hidden="true"></i>
        <label for="courseCatalog" class="txt">Course Catalog</label>
      </div>
      <div class="card tile-box">
        <i class="fa fa-calendar p-2" aria-hidden="true"></i><br />
        <label for="calendar" class="txt">Calendar</label>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</div>

<!-- intro to business analysis -->
<div class="container">
  <form [formGroup]="trainerForm">
    <!-- The Modal -->
    <div class="modal" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Introduction to Business analysis</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="trainingName">Training Name</label>
                  <input                    
                    type="text"
                    id="trainingName"
                    class="form-control"
                    formControlName="trainingName"
                    [ngClass]="applyClass(trainingName)"
                    [value] = "modalData.trainingName"  
                    disabled                  
                  />
                  <div
                    id="training-name-error"
                    class="invalid-feedback"
                    *ngIf="trainingName.errors"
                  >
                    <span *ngIf="trainingName.errors.required">
                      This field is required
                    </span>
                    <span *ngIf="trainingName.errors.maxlength">
                      You can't use more than 70 characters in course name field
                    </span>
                    <span *ngIf="trainingName.errors.cannotContainSpace">
                      {{ trainingName.errors.cannotContainSpace }}
                    </span>
                  </div>
                </div>

                <div class="form-group">
                  <label for="trainingCategory">Training Category</label>
                  <input
                    id="trainingCategory"                    
                    name="trainingCategory"
                    class="form-control"
                    required
                    formControlName = "courseCategory"
                    [value] = "modalData.courseCategory"  
                    disabled
                  >
                    <!-- <option value="frontend">Frontend</option>
                    <option value="backend">Backend</option>
                    <option value="ba">BA</option>
                    <option value="testing">Testing</option>
                    <option value="devops">DEV OPS</option>
                  </select> -->
                </div>

                <div class="form-group">
                  <label for="trainerName">Trainer Name</label>
                  <input
                    class="form-control "
                    type="text"
                    id="trainerName"
                    placeholder="Trainer Name"
                    [value] = "modalData.trainer?.firstName"
                    disabled
                  />
                </div>

                <div class="form-group">
                  <label for="venue">Venue</label>
                  <input
                    class="form-control "
                    type="text"
                    id="venue"
                    placeholder="Vatika business center "
                    disabled
                  />
                </div>

                <div class="form-group">
                  <label for="trainingType">Training Type</label>
                  <input
                    formControlName="trainingType"
                    class="form-control "
                    type="text"
                    id="trainingType"
                    placeholder="Training Type"
                    [ngClass]="applyClass(trainingType)"
                    value = "Mandatory" 
                    disabled 
                  />
                  <div
                    id="training-name-error"
                    class="invalid-feedback"
                    *ngIf="trainingName.errors"
                  >
                    <span *ngIf="trainingType.errors.required">
                      This field is required
                    </span>
                    <span *ngIf="trainingType.errors.cannotContainSpace">
                      {{ trainingType.errors.cannotContainSpace }}
                    </span>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="form-group">
                  <label for="date">Date</label>
                  <input
                    class="form-control "
                    formControlName="date"
                    type="date"
                    id="date"
                    placeholder="Date"
                    [value] = "modalData.date"  
                  />
                </div>
               

                <div class="form-group">
                  <label for="startTime">Start Time</label>
                  <input
                    class="form-control "
                    formControlName="startTime"
                    type="time"
                    id="startTime"
                    placeholder="Start Time"
                    [value] = "modalData.startTime"  
                  />
                </div>

                <div class="form-group">
                  <label for="endTime">End Time</label>
                  <input
                    class="form-control "
                    formControlName="endTime"
                    type="time"
                    id="endTime"
                    placeholder="End Time"
                    [value] = "modalData.endTime"  
                  />
                </div>

                <div class="form-group">
                  <label for="completionStatus">Completion Status</label>
                  <select
                    id="completionStatus"                    
                    name="completionStatus"
                    class="form-control"
                    formControlName = "completionStatus"
                    required
                    [value] = "modalData.completionStatus"                     
                  >
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="getUpdateTrainer(training)">
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<!-- End of business analysis -->
